"use strict";(self.webpackChunkJumatik=self.webpackChunkJumatik||[]).push([[845],{9845:function(e,n,t){t.r(n),t.d(n,{FacebookLoginWeb:function(){return a}});var r=t(4165),o=t(5861),u=t(5671),i=t(3144),c=t(136),s=t(7277),a=function(e){(0,c.Z)(t,e);var n=(0,s.Z)(t);function t(){return(0,u.Z)(this,t),n.call(this,{name:"FacebookLogin",platforms:["web"]})}return(0,i.Z)(t,[{key:"initialize",value:function(e){var n=this,t={version:"v10.0"};return new Promise((function(r,o){try{return n.loadScript(e.locale).then((function(){FB.init(Object.assign(Object.assign({},t),e)),r()}))}catch(u){o(u)}}))}},{key:"loadScript",value:function(e){if("undefined"===typeof document)return Promise.resolve();if(null===document||void 0===document?void 0:document.getElementById("fb"))return Promise.resolve();var n=document.getElementsByTagName("head")[0],t=document.createElement("script");return new Promise((function(r){t.defer=!0,t.async=!0,t.id="fb",t.onload=function(){r()},t.src="https://connect.facebook.net/".concat(null!==e&&void 0!==e?e:"en_US","/sdk.js"),n.appendChild(t)}))}},{key:"login",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("FacebookLoginWeb.login",n),e.abrupt("return",new Promise((function(e,t){FB.login((function(n){console.debug("FB.login",n),"connected"===n.status?e({accessToken:{token:n.authResponse.accessToken}}):t({accessToken:{token:null}})}),{scope:n.permissions.join(",")})})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()},{key:"logout",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){FB.logout((function(){return e()}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"reauthorize",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e){FB.reauthorize((function(n){return e(n)}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getCurrentAccessToken",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){FB.getLoginStatus((function(t){if("connected"===t.status){var r={accessToken:{applicationId:void 0,declinedPermissions:[],expires:void 0,isExpired:void 0,lastRefresh:void 0,permissions:[],token:t.authResponse.accessToken,userId:t.authResponse.userID}};e(r)}else n({accessToken:{token:null}})}))})));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},{key:"getProfile",value:function(){var e=(0,o.Z)((0,r.Z)().mark((function e(n){var t;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=n.fields.join(","),e.abrupt("return",new Promise((function(e,n){FB.api("/me",{fields:t},(function(t){t.error?n(t.error.message):e(t)}))})));case 2:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}()}]),t}(t(6653).Uw)}}]);
//# sourceMappingURL=845.b311e389.chunk.js.map